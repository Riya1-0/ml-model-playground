<!DOCTYPE html>
<html>
<head>
    <title>ML Model Playground</title>
</head>
<body>

<h2>ML Model Playground</h2>

<!-- FORM 1: Upload CSV (only when columns NOT loaded) -->
{% if not columns %}
<form action="/train" method="POST" enctype="multipart/form-data">
    <label>Upload CSV File:</label><br>
    <input type="file" name="csv_file" required><br><br>
    <button type="submit">Upload CSV</button>
</form>
{% endif %}

<!-- Message after upload -->
{% if columns %}
<p><strong>CSV uploaded successfully. Select target column:</strong></p>
<hr>

<!-- FORM 2: Target selection -->
<form action="/train" method="POST">
    <label>Select Target Column:</label><br>
    <select name="target" required>
        {% for col in columns %}
            <option value="{{ col }}">{{ col }}</option>
        {% endfor %}
    </select><br><br>

    <label>Problem Type:</label><br>
    <select name="problem_type">
        <option value="classification">Classification</option>
        <option value="regression">Regression</option>
    </select><br><br>

    <button type="submit">Train Models</button>
</form>
{% endif %}

</body>
</html>
